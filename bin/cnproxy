#!/usr/bin/env node

var program = require('commander');
var cnproxy = require('../');
var conf = require('../package.json');

program
    .version(conf.version)
    .option('-l, --list [list]', '指定替换规则文件')
    .option('-c, --cookies [cookies]', '设置请求代理URL时携带的Cookies')
    .option('-p, --port [port]', '自定义CNProxy启动后的监听端口号(默认:9010)', parseInt)
    .option('-t, --timeout [timeout]', '指定请求超时时间(默认:5秒)', parseInt)
    .option('-d, --debug', '启用调试模式')
    .option('-n, --networks', '显示网络接口列表')
    .parse(process.argv);

cnproxy(program.port, {
  "responderListFilePath": program.list,
  "timeout": program.timeout,
  "debug": !!program.debug,
  "networks": program.networks,
  "cookies":program.cookies
});
